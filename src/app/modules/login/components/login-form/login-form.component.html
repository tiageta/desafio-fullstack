<h2 class="text-center text-primary">Boas-vindas</h2>

<form class="form mt-5" (ngSubmit)="login()" #loginForm="ngForm">
  <div id="user-field" class="mb-3">
    <div class="input-group">
      <div class="input-group-text">
        <i class="fa fa-solid fa-user text-primary"></i>
      </div>
      <input
        type="text"
        class="form-control"
        placeholder="Insira seu usu치rio"
        [(ngModel)]="user"
        name="user"
        #userField="ngModel"
        required
      />
    </div>
    <app-message
      message="Usu치rio obrigat칩rio"
      *ngIf="userField.invalid && userField.touched"
    ></app-message>
  </div>

  <div id="password-field" class="mb-3">
    <div class="input-group">
      <div class="input-group-text">
        <i class="fa fa-solid fa-lock text-primary"></i>
      </div>
      <input
        type="password"
        [type]="passwordType"
        class="form-control"
        placeholder="Insira sua senha"
        [(ngModel)]="password"
        name="password"
        #passwordField="ngModel"
        required
      />
      <div class="input-group-text" (click)="toggleShowPassword()">
        <i
          class="fa fa-solid fa-eye-slash text-primary"
          *ngIf="!showPassword; else eyeOpened"
        ></i>
        <ng-template #eyeOpened>
          <i class="fa fa-solid fa-eye text-primary"></i>
        </ng-template>
      </div>
    </div>
    <app-message
      message="Senha obrigat칩ria"
      *ngIf="passwordField.invalid && passwordField.touched"
    ></app-message>
  </div>

  <div id="auto-login-field" class="mb-3">
    <div class="d-flex justify-content-end">
      <label class="form-check-label" for="flexSwitchCheckDefault">
        Logar automaticamente
      </label>
      <div class="toggle-switch form-check-inline form-switch ms-5 me-0">
        <input
          class="form-check-input"
          type="checkbox"
          role="switch"
          id="flexSwitchCheckDefault"
          [(ngModel)]="autoLogin"
          name="autoLogin"
        />
      </div>
    </div>
  </div>

  <div class="d-grid">
    <button
      class="submit"
      class="btn btn-primary btn-block"
      [disabled]="loginForm.invalid || isSigningIn"
    >
      <div *ngIf="!isSigningIn; else spinnerBlock">Entrar</div>
      <ng-template #spinnerBlock>
        <span class="spinner-border spinner-border-sm" role="status"></span>
      </ng-template>
    </button>
  </div>
</form>
